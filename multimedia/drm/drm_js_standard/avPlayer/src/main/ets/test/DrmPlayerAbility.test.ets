/*
 * Copyright (C) 2023 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// @ts-nocheck
import hilog from '@ohos.hilog';
import { describe, beforeAll, beforeEach, afterEach, afterAll, it, expect } from '@ohos/hypium'
// @ts-ignore
import drm from '@ohos.multimedia.drm';
import util from '@ohos.util';
export default function abilityTest() {
  describe('ActsAbilityTest', function () {
    // Defines a test suite. Two parameters are supported: test suite name and test suite function.
    beforeAll(function () {
      // Presets an action, which is performed only once before all test cases of the test suite start.
      // This API supports only one parameter: preset action function.
    })
    beforeEach(function () {
      // Presets an action, which is performed before each unit test case starts.
      // The number of execution times is the same as the number of test cases defined by **it**.
      // This API supports only one parameter: preset action function.
    })
    afterEach(function () {
      // Presets a clear action, which is performed after each unit test case ends.
      // The number of execution times is the same as the number of test cases defined by **it**.
      // This API supports only one parameter: clear action function.
    })
    afterAll(function () {
      // Presets a clear action, which is performed after all test cases of the test suite end.
      // This API supports only one parameter: clear action function.
    })
    console.info("--------------------assertContain-------Stage-----------------------");

    function stringToUint8Array(str) {
      const length = str.length;
      const array = new Uint8Array(length);

      for (let i = 0; i < length; i++) {
        array[i] = str.charCodeAt(i);
      }

      return array;
    }

    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0100
    * @tc.name      : createMediaKeySystem
    * @tc.desc      : Reliability Test
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0100', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      expect(drmMediaKeySystem).not();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0200
    * @tc.name      : createMediaKeySystem
    * @tc.desc      : Abnormal UUID
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0200', 1, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("405E6D359B9A41E8B843DD3C6E72C42C");
      expect(drmMediaKeySystem).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0300
    * @tc.name      : createMediaKeySystem
    * @tc.desc      : null UUID
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0300', 1, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("");
      expect(drmMediaKeySystem).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0400
    * @tc.name      : createMediaKeySystem
    * @tc.desc      : callback
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0400', 0, async function (done) {
      let drmMediaKeySystem;
      await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80", (mediaKeySystem) => {
        // success callback
        drmMediaKeySystem = mediaKeySystem;
      });
      expect(drmMediaKeySystem).assertUndefined();//TODO ：目前未实现callback功能
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0500
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : one params
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0500', 0, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80");
      expect(isSysSupport).assertTrue();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0600
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : one params error uuid
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0600', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("405E6D359B9A41E8B843DD3C6E72C42C");
      expect(isSysSupport).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0700
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : one params null uuid
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0700', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("");
      expect(isSysSupport).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0800
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : two params
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0800', 0, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","video/mp4");
      expect(isSysSupport).assertTrue();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0900
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : two params error uuid
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_0900', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("405E6D359B9A41E8B843DD3C6E72C42C","video/mp4");
      expect(isSysSupport).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1000
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : two params null uuid
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1000', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("","video/mp4");
      expect(isSysSupport).assertFalse(); //TODO ：目前minetype在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1100
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : two params error mimetype
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1100', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","1111/2222");
      expect(isSysSupport).assertFalse(); //TODO ：目前minetype在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1200
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : two params null mimetype
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1200', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","");
      expect(isSysSupport).assertFalse(); //TODO ：目前minetype在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1300
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : three params
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1300', 0, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","video/mp4",drm.SecurityLevel.SECURITY_LEVEL_SW_CRYPTO);
      expect(isSysSupport).assertTrue(); // TODO ：目前minetype在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1400
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : three params,error uuid
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1400', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("405E6D359B9A41E8B843DD3C6E72C42C","video/mp4",drm.SecurityLevel.SECURITY_LEVEL_SW_CRYPTO);
      expect(isSysSupport).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1500
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : three params,error mimetype
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1500', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","1111/22222",drm.SecurityLevel.SECURITY_LEVEL_SW_CRYPTO);
      expect(isSysSupport).assertFalse(); // TODO ：目前minetype在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1600
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : three params,error securityLevel
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1600', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","video/mp4",drm.SecurityLevel.SECURITY_LEVEL_MAX);
      expect(isSysSupport).assertUndefined(); // TODO ：目前securityLevel在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1700
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : three params,null uuid
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1700', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("","video/mp4",drm.SecurityLevel.SECURITY_LEVEL_SW_CRYPTO);
      expect(isSysSupport).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1800
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : three params,null mimetype
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1800', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","",drm.SecurityLevel.SECURITY_LEVEL_SW_CRYPTO);
      expect(isSysSupport).assertFalse(); // TODO ：目前minetype在wiseplay插件上暂未使用
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1900
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 创建各个安全等级的session
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_1900', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      let drmMediaKeySession = drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      expect(drmMediaKeySession.getSecurityLevel()).not();
      drmMediaKeySession.destroy();
      expect(drmMediaKeySession.getSecurityLevel()).assertUndefined(); // TODO ：蓝区实验室destroy失效

      let drmMediaKeySession1 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_SW_CRYPTO);
      expect(drmMediaKeySession1.getSecurityLevel()).not();
      await drmMediaKeySession1.destroy();
      expect(drmMediaKeySession1.getSecurityLevel()).assertUndefined();

      let drmMediaKeySession2 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_SW_DECODE);
      expect(drmMediaKeySession2.getSecurityLevel()).not();
      await drmMediaKeySession2.destroy();
      expect(drmMediaKeySession2.getSecurityLevel()).assertUndefined();

      let drmMediaKeySession3 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_CRYPTO);
      expect(drmMediaKeySession3.getSecurityLevel()).not();
      await drmMediaKeySession3.destroy();
      expect(drmMediaKeySession3.getSecurityLevel()).assertUndefined();

      let drmMediaKeySession4 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_DECODE);
      expect(drmMediaKeySession4.getSecurityLevel()).not();
      await drmMediaKeySession4.destroy();
      expect(drmMediaKeySession4.getSecurityLevel()).assertUndefined();

      let drmMediaKeySession5 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_ALL);
      expect(drmMediaKeySession5.getSecurityLevel()).not();
      await drmMediaKeySession5.destroy();
      expect(drmMediaKeySession5.getSecurityLevel()).assertUndefined();

      let drmMediaKeySession6 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_MAX);
      expect(drmMediaKeySession6.getSecurityLevel()).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2000
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 创建64个session后再创建一个session
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2000', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      let sessionArray = [];
      for(let i=0;i<64;i++){
        sessionArray[i]=await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_DECODE);
        expect(sessionArray[i].getSecurityLevel()).not();
      }
      let drmMediaKeySession = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_ALL);
      // TODO ：RK3568最大会话数是否为64？
      expect(drmMediaKeySession.getSecurityLevel()).assertUndefined();

      for(let i=0;i<64;i++){
        await sessionArray[i].destroy();
        expect(sessionArray[i].getSecurityLevel()).assertUndefined();
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2100
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 释放一个session后再创建session
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2100', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      let sessionArray = [];
      for(let i=0;i<64;i++){
        sessionArray[i]=await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_DECODE);
        expect(sessionArray[i].checkLicenseStatus()).not();
      }
      let drmMediaKeySession = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_DECODE);
      expect(drmMediaKeySession.checkLicenseStatus()).assertUndefined();
      await sessionArray[0].destroy(); // TODO ：蓝区实验室destroy失效
      let drmMediaKeySession2 = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_HW_DECODE);
      expect(drmMediaKeySession2.checkLicenseStatus()).not();

      for(let i=0;i<64;i++){
        await sessionArray[i].destroy();
        expect(sessionArray[i].checkLicenseStatus()).assertUndefined();
      }
      await drmMediaKeySession2.destroy();
      expect(drmMediaKeySession2.checkLicenseStatus()).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2200
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 错误的安全等级，创建session异常用例
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2200', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      let drmMediaKeySession = await drmMediaKeySystem.createMediaKeySession(7);
      expect(drmMediaKeySession.checkLicenseStatus()).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2300
    * @tc.name      : isMediaKeySystemSupported
    * @tc.desc      : 错误的安全等级，创建MediaKeySystem异常用例
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2300', 1, async function (done) {
      let isSysSupport = await drm.isMediaKeySystemSupported("E79628B6406A6724DCD5A1DA50B53E80","video/mp4",7);
      expect(isSysSupport).assertFalse();// TODO ：预期false返回undefined
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2400
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 创建64个session后再创建一个session
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2400', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      let sessionArray = [];
      for(let i=0;i<64;i++){
        sessionArray[i]=await drmMediaKeySystem.createMediaKeySession();
        expect(sessionArray[i].getSecurityLevel()).not();
      }
      let drmMediaKeySession = await drmMediaKeySystem.createMediaKeySession();
      // TODO ：RK3568最大会话数是否为64？
      expect(drmMediaKeySession.getSecurityLevel()).assertUndefined();

      for(let i=0;i<64;i++){
        await sessionArray[i].destroy();
        expect(sessionArray[i].getSecurityLevel()).assertUndefined();
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2500
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 释放一个session后再创建session
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2500', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      let sessionArray = [];
      for(let i=0;i<64;i++){
        sessionArray[i]=await drmMediaKeySystem.createMediaKeySession();
        expect(sessionArray[i].checkLicenseStatus()).not();
      }
      let drmMediaKeySession = await drmMediaKeySystem.createMediaKeySession();
      expect(drmMediaKeySession.checkLicenseStatus()).assertUndefined();

      await sessionArray[0].destroy();

      let drmMediaKeySession2 = await drmMediaKeySystem.createMediaKeySession();
      expect(drmMediaKeySession2.checkLicenseStatus()).not();

      for(let i=0;i<64;i++){
        await sessionArray[i].destroy();
        expect(sessionArray[i].checkLicenseStatus()).assertUndefined();
      }
      await drmMediaKeySession2.destroy();
      expect(drmMediaKeySession2.checkLicenseStatus()).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2600
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 创建一个会话，释放MediaKeySystem，检查会话是否释放
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2600', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      expect(session.getSecurityLevel()).not();
      drmMediaKeySystem.destroy(); // TODO: 蓝区destroy失效
      expect(session.getSecurityLevel()).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2700
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 判断是否支持安全解码video/mp4
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2700', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var result = await session.requireSecureDecoderModule("video/mp4");
      expect(result).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2800
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 判断是否支持安全解码hls/ts
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2800', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var result = await session.requireSecureDecoderModule("hls/ts");
      expect(result).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2900
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 判断是否支持安全解码,错误的minetype
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_2900', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var result = await session.requireSecureDecoderModule("1111/22222");
      expect(result).assertFalse();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_3000
    * @tc.name      : createMediaKeySession
    * @tc.desc      : 判断是否支持安全解码,错误的minetype
    * @tc.size      : MediumTest
    * @tc.type      : Reliability
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_MEDIA_DRM_FRAMEWORK_API_3000', 0, async function (done) {
      let drmMediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session = await drmMediaKeySystem.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var result = await session.requireSecureDecoderModule("");
      expect(result).assertFalse();
      done();
    })

    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0100
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取设备证书，正常参数请求响应
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0100', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var drmRequest = await drmsys.generateKeySystemRequest();
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      expect(session).not();
      done();
    })

    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0200
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取设备证书，传入错误的响应报文数据
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0200', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var drmRequest = await drmsys.generateKeySystemRequest();
      let arry = new Uint8Array([1,2,3,4,5]);// TODO 蓝区实验室设备证书响应异常，已提单跟踪
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,arry);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      expect(session).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0300
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取设备证书，响应报文数据为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0300', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var drmRequest = await drmsys.generateKeySystemRequest();
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,null);// TODO 蓝区实验室设备证书响应异常，已提单跟踪
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      expect(session).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0400
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,正常参数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0400', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x30,0x64, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      let keyvalue = session.checkLicenseStatus();
      expect(keyvalue[0].value).assertEqual('ok');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0500
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,请求minetype异常
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0500', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("1111/2222",uint8pssh,1);
      expect(DrmRequest.licnseRequestType).assertUndefined(); // TODO: 实际结果ALGTYPE_UNENCRYPTED
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0600
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,请求minetype为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0600', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest(null,uint8pssh,1);
      expect(DrmRequest).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0700
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,请求初始数据异常
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0700', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q=');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      expect(DrmRequest.keyRequestType).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0800
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,请求初始数据为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0800', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      let DrmRequest = await session.generateLicenseRequest("video/mp4",null,1);
      expect(DrmRequest).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_0900
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,请求的licensetype异常
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_0900', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,0);
      expect(DrmRequest.keyRequestType).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1000
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,响应报文异常
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1000', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([1, 2, 3, 4, 5]);
      var keyId = await session.processLicenseResponse(responseArray);
      let keyvalue = session.checkLicenseStatus();
      expect(keyvalue).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1100
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,响应报文为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1100', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var keyId = await session.processLicenseResponse(null);
      let keyvalue = session.checkLicenseStatus();
      expect(keyvalue).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1200
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 获取许可证,正常删除许可证信息，正常检查许可证状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1200', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x30,0x64, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyvalue = session.checkLicenseStatus();
      expect(keyvalue[0].value).assertEqual('ok');
      done();

      session.removeLicenses();

      var keyvalue = session.checkLicenseStatus();
      expect(keyvalue).assertUndefined();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1300
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，获取离线licenseid，检查licenseid状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1300', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1400
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，删除离线licenseid，检查licenseid状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1400', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      drmsys.removeOfflineLicense(arry);
      OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(2);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1500
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，无效离线licenseid，检查licenseid状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1500', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      let arry = new Uint8Array([1, 2, 3, 4, 5]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(2);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1600
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，离线licenseid为空，检查licenseid状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1600', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(null);
      expect(OfflineKeyState).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1700
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，删除离线许可证，错误参数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1700', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);

      drmsys.removeOfflineLicense(new Uint8Array([1, 2, 3, 4, 5]));

      OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1800
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，删除离线许可证，参数为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1800', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"dLhN2gMH49/UioZ28vIIpNAx10e1JEngECtkssweeMcRoYmSMIIiskbE4O8zm96dAcg1Ml0r283gWmmnEH5/LQtqkTOO0KzwyHnka7/py7/xv6SQck5UBw+kLF5x4oDfK0RM3lHQ6mflgWsfKsvG9PP1MJBoh87beiZf4kBv/qYwTgZS5hQbvNm01vnBsj6f4Hsgt6OL9o55k+p/ue9EIP2ztaClUaRWsK1A/6CCfqwPbigUzZmm92SCyHqnS6W8MNHRoVkoUvWRa2xpqhnaq7dS8fI/Jr3adXMyC8QE3/lxmsLXgk3lhcm8JD7CIbevS+C0/yUtK1cbew7sLvOuE4uesPTXaLP+bBy1vg1G+uLxjcXEOIAH3p7A2I94/cCUMiob0RRtZMimJKW4RVR+CsjRtRnfanrmFGb2b2eXmAEOMqaEX6sNZtfGU7Se2a7WvTjw7HuVnvWbLd8TxUxT1n1rkOAXLTnSrs1FDHJoKLfp/eXvNHpM9CKWfdqdDSgJQsC3KB6FfJP7hKR+p7kf0/Xt0r1Oandam72fmKFeWCzejCsXW9upq3bZ3dSbC+Xr0KFw3N9A5lM5ZVonlWBSQ2GETPk8C5emoxXIv5ffvsTbYkPJInIUhGWO/2jzfQ0NzjWZpTXCtDnPt4UVkmbxTH2dX0F1PQN56RaZUNWww3rcrJoAExM/8/P/NwVcQkZHwCsltRZdDZLQdfNuVcJUL1s//95pluEWPTjtG2PX2Nw7jO9HBVP0Ws+dicgT7t8e36Z3ZXo2S9PYpCU61wgGXwdaRl94PliEJQJhLDgecjLeQmGs0BpcJRy6EKUATSWCmvxBuTXnlWL2O12aXc3BPbKOw0xjMHeva9hpiXi56GqCH5Wt9m4/tgYF4L5FJr2tOIv7OaOSvYBTUoshzFj7rU4vHhYE32DAigYL/Mv/TVA/rjjuXDfMRCwe8HNYuQR0nNdVn9S20Es/bJ4KFKsb8AMp00xqX0nUDALdABTZ/qbP+Gn8RyrD7sgb1VcCPRcyn35gjkPUQn78/BKt5e9mp74MxMQkIRGNBOn9syWF8n2mhk3bLy2V79N3Ll/QTxjjh1q88MLaEqApcWFVSoXowHry1jQi7KN+MflM4aylO7uagAqjjO/Lhl9kwGiHj7qfaUZqMkLwI2Iv2fJRJfgzt5wylZwcHiKnmk1IxbljPQ1aGcBRZMjbaf2v8EDH8ugrvDM8v0s6qhRQOBcOGmf68F2zDTAQlWjtRjzhVBeNqRF9n9ySECsQbtJpGCqXQSDDwo8zmZ5s9SdHGtBHxEq49/5sDnqLSNN/1nEz1refQN5it4yaGxjvJP9oqLuU0AqOgJdfj7WvJ1Y3do26rjIsq/9cEHQ/qvFoEgdF6/k3biZNLL7wd2p9B91Te83KDZPniBu96FcdLfKrZL1pV07YUqM5FHovk/ptiUJhzWtikJWnLQY+W2PaiswiHt3n6Tjo2QtJJlNyPPFqrnMzT3HKd7mvJo9dM6/dni05pz07lXqU2qteQowOHonqlX/rYOIWThCU9sovXNJfLnv/1sKrn9V6Tsu4WHIzf3b3U5O/oFq2gEupGe0hkpXG7Z385qUSFkPK8Y54wCM/Qk9zOtg4yJBvZyzsgPin8KaKm7uo9NreJtmSMoQosZ+tBrIukXKVJ8Yrgd1iZCNcPTzRmFOgF75MHD0raoG66Y5ugSd8hdJudeVQz3AptS6EMLbXNYrlmHl9ziY4zi40tPIl373DdVNEUtoi5VBxd4K0shZV27KLVxC58sXuvDe12hMnoDEbLH3BF5W+VLIv9C6unTUrzlmvUvZkFuHQ9p6exYgZyBosvn1jqkTMPwzKtY53sIj4OJKOLuXPlkQ+nQHwL8cVLeGmcB/TCj+h0tk/rjJYqa+52BBky98tmPDMMJtCjkvwkOmCRY9RCMpuqoGum8r/eM6eedF7Y92h91NigUZXoD7h1T/BaeTgdcGncFkh9LpLj9Ai6cgwEQDHy+hPgn56J1EoAZrT+2fq3QuSFw2JB9+fINC6bgeUpiPbDt/IxUU6d0GZTFCRDpsKRH73U14ZxWQo5osqvoPnnftIwFMOMxWvR8wmhywYE1OuG3RjHnQzzTFjhqoX1uUAZmw95OK+pqF+qiCar/PDlYuds8QF7g4q8v2zWgw=\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();

      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);

      drmsys.removeOfflineLicense(null);

      OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_1900
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证管理，重复删除离线licenseid，检查licenseid状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_1900', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var keyIds = drmsys.getOfflineLicenseIds();

      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);

      drmsys.removeOfflineLicense(arry);
      OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(2);

      drmsys.removeOfflineLicense(arry);
      OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(2);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2000
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，正常传参
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2000', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"dLhN2gMH49/UioZ28vIIpNAx10e1JEngECtkssweeMcRoYmSMIIiskbE4O8zm96dAcg1Ml0r283gWmmnEH5/LQtqkTOO0KzwyHnka7/py7/xv6SQck5UBw+kLF5x4oDfK0RM3lHQ6mflgWsfKsvG9PP1MJBoh87beiZf4kBv/qYwTgZS5hQbvNm01vnBsj6f4Hsgt6OL9o55k+p/ue9EIP2ztaClUaRWsK1A/6CCfqwPbigUzZmm92SCyHqnS6W8MNHRoVkoUvWRa2xpqhnaq7dS8fI/Jr3adXMyC8QE3/lxmsLXgk3lhcm8JD7CIbevS+C0/yUtK1cbew7sLvOuE4uesPTXaLP+bBy1vg1G+uLxjcXEOIAH3p7A2I94/cCUMiob0RRtZMimJKW4RVR+CsjRtRnfanrmFGb2b2eXmAEOMqaEX6sNZtfGU7Se2a7WvTjw7HuVnvWbLd8TxUxT1n1rkOAXLTnSrs1FDHJoKLfp/eXvNHpM9CKWfdqdDSgJQsC3KB6FfJP7hKR+p7kf0/Xt0r1Oandam72fmKFeWCzejCsXW9upq3bZ3dSbC+Xr0KFw3N9A5lM5ZVonlWBSQ2GETPk8C5emoxXIv5ffvsTbYkPJInIUhGWO/2jzfQ0NzjWZpTXCtDnPt4UVkmbxTH2dX0F1PQN56RaZUNWww3rcrJoAExM/8/P/NwVcQkZHwCsltRZdDZLQdfNuVcJUL1s//95pluEWPTjtG2PX2Nw7jO9HBVP0Ws+dicgT7t8e36Z3ZXo2S9PYpCU61wgGXwdaRl94PliEJQJhLDgecjLeQmGs0BpcJRy6EKUATSWCmvxBuTXnlWL2O12aXc3BPbKOw0xjMHeva9hpiXi56GqCH5Wt9m4/tgYF4L5FJr2tOIv7OaOSvYBTUoshzFj7rU4vHhYE32DAigYL/Mv/TVA/rjjuXDfMRCwe8HNYuQR0nNdVn9S20Es/bJ4KFKsb8AMp00xqX0nUDALdABTZ/qbP+Gn8RyrD7sgb1VcCPRcyn35gjkPUQn78/BKt5e9mp74MxMQkIRGNBOn9syWF8n2mhk3bLy2V79N3Ll/QTxjjh1q88MLaEqApcWFVSoXowHry1jQi7KN+MflM4aylO7uagAqjjO/Lhl9kwGiHj7qfaUZqMkLwI2Iv2fJRJfgzt5wylZwcHiKnmk1IxbljPQ1aGcBRZMjbaf2v8EDH8ugrvDM8v0s6qhRQOBcOGmf68F2zDTAQlWjtRjzhVBeNqRF9n9ySECsQbtJpGCqXQSDDwo8zmZ5s9SdHGtBHxEq49/5sDnqLSNN/1nEz1refQN5it4yaGxjvJP9oqLuU0AqOgJdfj7WvJ1Y3do26rjIsq/9cEHQ/qvFoEgdF6/k3biZNLL7wd2p9B91Te83KDZPniBu96FcdLfKrZL1pV07YUqM5FHovk/ptiUJhzWtikJWnLQY+W2PaiswiHt3n6Tjo2QtJJlNyPPFqrnMzT3HKd7mvJo9dM6/dni05pz07lXqU2qteQowOHonqlX/rYOIWThCU9sovXNJfLnv/1sKrn9V6Tsu4WHIzf3b3U5O/oFq2gEupGe0hkpXG7Z385qUSFkPK8Y54wCM/Qk9zOtg4yJBvZyzsgPin8KaKm7uo9NreJtmSMoQosZ+tBrIukXKVJ8Yrgd1iZCNcPTzRmFOgF75MHD0raoG66Y5ugSd8hdJudeVQz3AptS6EMLbXNYrlmHl9ziY4zi40tPIl373DdVNEUtoi5VBxd4K0shZV27KLVxC58sXuvDe12hMnoDEbLH3BF5W+VLIv9C6unTUrzlmvUvZkFuHQ9p6exYgZyBosvn1jqkTMPwzKtY53sIj4OJKOLuXPlkQ+nQHwL8cVLeGmcB/TCj+h0tk/rjJYqa+52BBky98tmPDMMJtCjkvwkOmCRY9RCMpuqoGum8r/eM6eedF7Y92h91NigUZXoD7h1T/BaeTgdcGncFkh9LpLj9Ai6cgwEQDHy+hPgn56J1EoAZrT+2fq3QuSFw2JB9+fINC6bgeUpiPbDt/IxUU6d0GZTFCRDpsKRH73U14ZxWQo5osqvoPnnftIwFMOMxWvR8wmhywYE1OuG3RjHnQzzTFjhqoX1uUAZmw95OK+pqF+qiCar/PDlYuds8QF7g4q8v2zWgw=\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let keyArray = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(keyArray);
      session.processOfflineReleaseResponse(keyArray, responseArray);
      OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(2);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2100
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，请求参数异常
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2100', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      let keyArray = new Uint8Array([1, 2, 3, 4, 5]);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(keyArray);
      session.processOfflineReleaseResponse(keyArray, responseArray);
      OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2200
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，请求参数为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2200', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let arry = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(arry);
      expect(OfflineKeyState).assertEqual(1);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(null);
      expect(OfflineReleaseRequest).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2300
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，响应参数异常licenseid
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2300', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let keyArray = new Uint8Array(keyIds[0]);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(keyArray);
      session.processOfflineReleaseResponse(new Uint8Array([1,2,3,4,5]), responseArray);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2400
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，响应参数异常licenseid为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2400', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let keyArray = new Uint8Array(keyIds[0]);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(keyArray);
      session.processOfflineReleaseResponse(null, responseArray);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2500
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，响应参数异常响应报文
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2500', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let keyArray = new Uint8Array(keyIds[0]);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(keyArray);
      session.processOfflineReleaseResponse(keyArray, new Uint8Array([1, 2, 3, 4, 5]));
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(2);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2600
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证释放，响应参数异常响应报文为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2600', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      let keyArray = new Uint8Array(keyIds[0]);
      var OfflineReleaseRequest = session.generateOfflineReleaseRequest(keyArray);
      session.processOfflineReleaseResponse(keyArray, null);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2700
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证restore，创建会话1，生成离线许可证licenseid，释放会话1，创建会话2，去restore会话1生成的licenseid
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2700', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session1.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session1.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      var keyArray = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);

      session1.destroy();
      expect(drmsys.getOfflineLicenseStatus(keyArray)).assertEqual(1);

      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      session2.restoreOfflineLicense(keyArray);

      OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2800
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证restore，创建会话1会话2，会话2restore会话1生成的离线licenseid
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2800', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session1.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session1.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      var keyArray = new Uint8Array(keyIds[0]);

      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      session2.restoreOfflineLicense(keyArray);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_2900
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证restore,传错误的licenseid
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_2900', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session1.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session1.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      var keyArray = new Uint8Array(keyIds[0]);

      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      session2.restoreOfflineLicense(keyArray);
      session2.restoreOfflineLicense(new Uint8Array([1, 2, 3, 4, 5]));
      expect(1).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3000
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证restore,licenseid为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3000', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session1.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session1.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      var keyArray = new Uint8Array(keyIds[0]);

      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      session2.restoreOfflineLicense(null);
      expect(1).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3100
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 设备证书状态查询
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3100', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var drmRequest = await drmsys.generateKeySystemRequest();
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var cstatus = drmsys.getCertificateStatus();// TODO:证书状态场景待补全
      expect(cstatus).assertEqual(0);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3200
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 设备证书请求时间监听，回调函数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3200', 0, async function (done) {
      //TODO:接口测试暂无法触发事件
      let drmMediaKeySystem = 1;
      var drmsys = await drm.creatMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      await drmsys.on('keySystemRequired', (mediaKeySystem) => {
        // success callback
        drmMediaKeySystem = 2;
      });
      expect(drmMediaKeySystem).assertEqual(2);
      drm.off('keySystemRequired');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3300
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 设备证书请求时间监听，回调函数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3300', 0, async function (done) {
      //TODO:接口测试暂无法触发事件
      let drmMediaKeySystem = 1;
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      await drmsys.on('keySystemRequired', (mediaKeySystem) => {
        // success callback
        drmMediaKeySystem = 2;
      });
      expect(drmMediaKeySystem).assertEqual(2);
      drmMediaKeySystem = 1;
      drmsys.off('keySystemRequired');
      expect(1).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3400
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证restore，创建system1，生成离线许可证licenseid，释放system1，创建system2，去restore system1生成的licenseid
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3400', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session1.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session1.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      var keyArray = new Uint8Array(keyIds[0]);
      let OfflineKeyState = drmsys.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      drmsys.destroy();
      expect(drmsys.getOfflineLicenseStatus(keyArray)).assertUndefined();

      var drmsys2 = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session2 = await drmsys2.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      session2.restoreOfflineLicense(keyArray);
      expect(drmsys2.getOfflineLicenseStatus(keyArray)).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3500
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 离线许可证restore，创建system1、system2，system2 restore sysytem1生成的离线licenseid
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3500', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var base64 = new util.Base64();
      let uint8pssh = base64.decodeSync('AAAAi3Bzc2gAAAAAPV5tNZuaQei4Q908bnLELAAAAGt7InZlcnNpb24iOiJWMS4wIiwiY29udGVudElEIjoiZEhNdE1qWTBMVEV3T0RBdFlXVnoiLCJraWRzIjpbIkcrRWsvK1htVWtwQkhRZ1hZV1FRSWc9PSJdLCJlbnNjaGVtYSI6ImNiYzEifQ==');
      let DrmRequest = await session1.generateLicenseRequest("video/mp4",uint8pssh,1);
      var responseArray = new Uint8Array([0x31,0x63, 0x6E, 0x5A, 0x32, 0x4E, 0x57, 0x74, 0x76, 0x4D, 0x47, 0x34, 0x34, 0x4E, 0x6A, 0x42, 0x30, 0x4D, 0x32, 0x77, 0x33, 0x4E, 0x67, 0x3D, 0x3D, 0x3A, 0x59, 0x7A, 0x56, 0x78, 0x63, 0x48, 0x64, 0x70, 0x61, 0x6D, 0x30, 0x34, 0x59, 0x57, 0x45, 0x34, 0x5A, 0x48, 0x6B, 0x79, 0x4D, 0x67, 0x3D, 0x3D]);
      var keyId = await session1.processLicenseResponse(responseArray);
      var keyIds = drmsys.getOfflineLicenseIds();
      var keyArray = new Uint8Array(keyIds[0]);

      var drmsys2 = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var session2 = await drmsys2.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      session2.restoreOfflineLicense(keyArray);

      let OfflineKeyState = drmsys2.getOfflineLicenseStatus(keyArray);
      expect(OfflineKeyState).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3600
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 创建system1，获取设备证书，创建system2，检查设备证书状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3600', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var cstatus = drmsys.getCertificateStatus();
      expect(cstatus).assertEqual(0);

      var drmsys2 = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      drmsys2.getCertificateStatus();
      expect(cstatus).assertEqual(0);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_AVPLAYER_3700
    * @tc.name      : 001.test getTrackDescription
    * @tc.desc      : 创建system1，获取设备证书，释放system1，创建system2，检查设备证书状态
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level0
    */
    it('SUB_MULTIMEDIA_DRM_AVPLAYER_3700', 0, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(drm.RequestType.REQUEST_TYPE_INITIAL,provisionArray);
      var cstatus = drmsys.getCertificateStatus();
      expect(cstatus).assertEqual(0);

      drmsys.destroy();

      var drmsys2 = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      drmsys2.getCertificateStatus();
      expect(cstatus).assertEqual(0);
      done();
    })

    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0100
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : 给vendor赋值然后获取属性值
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0100', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");

      mediaKeySystem.setConfigurationString("vendor", "ABC");
      var getCfg = mediaKeySystem.getConfigurationString("vendor");
      expect(getCfg).assertEqual("ABC");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0200
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : 给vendor赋值然后获取属性值
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0200', 1, async function (done) {
      //TODO: 要设置的属性名为空，获取属性值成功
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationString(null);
      expect(getCfg).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0300
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : 给vendor赋值，输入错误的propertyName
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0300', 1, async function (done) {
      // TODO:已提单跟踪
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("versionid", "ABC");
      var getCfg = mediaKeySystem.getConfigurationString("versionid");
      expect(getCfg).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0400
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : 给vendor赋值，value值为空
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0400', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");

      mediaKeySystem.setConfigurationString("vendor", null);
      var getCfg = mediaKeySystem.getConfigurationString("vendor");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0400
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : 给vendor赋两次值，看最终结果是否覆盖
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0500', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("vendor", 'ABC');
      var getCfg = mediaKeySystem.getConfigurationString("vendor");
      expect(getCfg).assertEqual('ABC');
      mediaKeySystem.setConfigurationString("vendor", 'EFG');
      getCfg = mediaKeySystem.getConfigurationString("vendor");
      expect(getCfg).assertEqual('EFG');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0600
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : set config "VERSION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0600', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("version", "1.1");
      var getCfg = mediaKeySystem.getConfigurationString("version");
      expect(getCfg).assertEqual("1.1");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0700
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : set config "VERSION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0700', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("version", null);
      var getCfg = mediaKeySystem.getConfigurationString("version");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0800
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : set config "DESCRIPTION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0800', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("description", "Test Set Get Config");
      var getCfg = mediaKeySystem.getConfigurationString("description");
      expect(getCfg).assertEqual("Test Set Get Config");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0900
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : set config "DESCRIPTION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_0900', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("description", null);
      var getCfg = mediaKeySystem.getConfigurationString("description");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1000
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : set config "ALGORITHMS" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1000', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("algorithms", "AES");
      var getCfg = mediaKeySystem.getConfigurationString("algorithms");
      expect(getCfg).assertEqual("AES");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1100
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : set config "ALGORITHMS" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1100', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("algorithms", null);
      var getCfg = mediaKeySystem.getConfigurationString("algorithms");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1200
    * @tc.name      : 005.test set_get_config
    * @tc.desc      : set config "deviceUniqueId" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1200', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("deviceUniqueId", "7E8G9D");
      var getCfg = mediaKeySystem.getConfigurationString("deviceUniqueId");
      expect(getCfg).assertEqual("7E8G9D");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1300
    * @tc.name      : 005.test set_get_config
    * @tc.desc      : set config "deviceUniqueId" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1300', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("deviceUniqueId", null);
      var getCfg = mediaKeySystem.getConfigurationString("deviceUniqueId");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1400
    * @tc.name      : 006.test set_get_config
    * @tc.desc      : 获取设备最大会话数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1400', 1, async function (done) {
      // TODO:无法获取最大会话数，已提单跟踪
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationString("maxSessionNum");
      expect(getCfg).assertEqual("64");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1500
    * @tc.name      : 006.test set_get_config
    * @tc.desc      : 设置最大会话数为0
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1500', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("maxSessionNum", '0');
      var getCfg = mediaKeySystem.getConfigurationString("maxSessionNum");
      expect(getCfg).assertEqual("0");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1600
    * @tc.name      : 006.test set_get_config
    * @tc.desc      : 设置最大会话数为null
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1600', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("maxSessionNum", null);
      var getCfg = mediaKeySystem.getConfigurationString("maxSessionNum");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1700
    * @tc.name      : 006.test set_get_config
    * @tc.desc      : 给maxSessionNum赋值，超过默认最大数64
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1700', 1, async function (done) {
      // TODO:RK3568最大会话数待确认，已提单跟踪
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("maxSessionNum", "65");
      var getCfg = mediaKeySystem.getConfigurationString("maxSessionNum");
      expect(getCfg).assertEqual("64");
      done();
    })

    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1900
    * @tc.name      : 006.test set_get_config
    * @tc.desc      : 给maxSessionNum赋值1，创建两个会话
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_1900', 1, async function (done) {
      // TODO: 设置最大会话数属性未生效，提单跟踪
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      drmsys.setConfigurationString("maxSessionNum", "1");
      var getCfg = drmsys.getConfigurationString("maxSessionNum");
      expect(getCfg).assertEqual('1');
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);

      expect(session2).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2000
    * @tc.name      : 007.test set_get_config
    * @tc.desc      : 查看当前会话数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2000', 1, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");

      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var session1 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var getCfg = drmsys.getConfigurationString("currentSessionNum");
      expect(getCfg).assertEqual(getCfg);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2100
    * @tc.name      : 008.test set_get_config
    * @tc.desc      : get config "maxHDCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2100', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      // mediaKeySystem.setConfigurationString(2, drm.PropertyName.PROPERTY_OUTPUT_HDCP_MAX, drm.HdcpLevel[drm.HdcpLevel.HDCP_V1]);
      mediaKeySystem.setConfigurationString("maxHDCPLevel", "HDCP_V1");
      var getCfg = mediaKeySystem.getConfigurationString("maxHDCPLevel");
      expect(getCfg).assertEqual("HDCP_V1");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2200
    * @tc.name      : 008.test set_get_config
    * @tc.desc      : get config "maxHDCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2200', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      // mediaKeySystem.setConfigurationString(2, drm.PropertyName.PROPERTY_OUTPUT_HDCP_MAX, drm.HdcpLevel[drm.HdcpLevel.HDCP_V1]);
      mediaKeySystem.setConfigurationString("maxHDCPLevel", null);
      var getCfg = mediaKeySystem.getConfigurationString("maxHDCPLevel");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2300
    * @tc.name      : 009.test set_get_config
    * @tc.desc      : get config "currentHDCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2300', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationString("currentHDCPLevel");
      expect(getCfg).assertEqual(getCfg);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_GET_METRIC_2400
    * @tc.name      : 001.test get metric
    * @tc.desc      : get metric information
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_GET_METRIC_2400', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getMetrics = mediaKeySystem.getMetrics();
      const keys = Object.keys(getMetrics);
      for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        var value = getMetrics[key];
      }
      expect(0).assertEqual(0);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2500
    * @tc.name      : 008.test set_get_config
    * @tc.desc      : get config "maxADCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2500', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("maxADCPLevel", "ADCP_V1_L1");
      var getCfg = mediaKeySystem.getConfigurationString("maxADCPLevel");
      expect(getCfg).assertEqual("ADCP_V1_L1");
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2600
    * @tc.name      : 008.test set_get_config
    * @tc.desc      : get config "maxADCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2600', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("maxADCPLevel", null);
      var getCfg = mediaKeySystem.getConfigurationString("maxADCPLevel");
      expect(getCfg).assertEqual('');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2700
    * @tc.name      : 009.test set_get_config
    * @tc.desc      : get config "currentADCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2700', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationString("currentADCPLevel");
      expect(getCfg).assertEqual(getCfg);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2800
    * @tc.name      : 028.test set_get_config
    * @tc.desc      : get metrics session num
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2800', 1, async function (done) {
      // TODO:getMetrics无法获取版本信息，待提单
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationString("version", "1.1");
      var getCfg = mediaKeySystem.getConfigurationString("version");
      var getMetrics = mediaKeySystem.getMetrics();
      const keys = Object.keys(getMetrics);
      var key = keys[1];
      var value = getMetrics[key];
      expect(getCfg).assertEqual(value);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2900
    * @tc.name      : 029.test set_get_config
    * @tc.desc      : 给vendor赋值然后获取属性值(Uint8array)
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_2900', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("ABC");
      mediaKeySystem.setConfigurationByteArray("vendor", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("vendor");
      for(var i = 0; i < getCfg.length; i++) {
          expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3000
    * @tc.name      : 030.test set_get_config
    * @tc.desc      : 给vendor赋值，输入错误的propertyName(Uint8Array)
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3000', 1, async function (done) {
      // TODO:，设置错误属性，获取正常，待提单
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("ABC");
      mediaKeySystem.setConfigurationByteArray("versionid", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("versionid");
      expect(getCfg).assertUndefined();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3100
    * @tc.name      : 031.test set_get_config
    * @tc.desc      : 给vendor赋值，value值为空(Uint8Array)
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3100', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("vendor", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("vendor");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3200
    * @tc.name      : 032.test set_get_config
    * @tc.desc      : 给vendor赋两次值，看最终结果是否覆盖(Uint8Array)
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3200', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("ABC");
      mediaKeySystem.setConfigurationByteArray("vendor", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("vendor");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      valueArray = stringToUint8Array("EFG");
      mediaKeySystem.setConfigurationByteArray("vendor", valueArray);
      getCfg = mediaKeySystem.getConfigurationByteArray("vendor");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3300
    * @tc.name      : 033.test set_get_config
    * @tc.desc      : set config "VERSION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3300', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("1.1");
      mediaKeySystem.setConfigurationByteArray("version", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("version");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3400
    * @tc.name      : 034.test set_get_config
    * @tc.desc      : set config "VERSION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3400', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("version", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("version");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3500
    * @tc.name      : 035.test set_get_config
    * @tc.desc      : set config "DESCRIPTION" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3500', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("Test Set Get Config");
      mediaKeySystem.setConfigurationByteArray("description", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("description");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3600
    * @tc.name      : 036.test set_get_config
    * @tc.desc      : set config "description" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3600', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("description", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("description");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3700
    * @tc.name      : 037.test set_get_config
    * @tc.desc      : set config "algorithms" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3700', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("AES");
      mediaKeySystem.setConfigurationByteArray("algorithms", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("algorithms");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3800
    * @tc.name      : 038.test set_get_config
    * @tc.desc      : set config "algorithms" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3800', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("algorithms", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("algorithms");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3900
    * @tc.name      : 039.test set_get_config
    * @tc.desc      : set config "deviceUniqueId" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_3900', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("7E8G9D");
      mediaKeySystem.setConfigurationByteArray("deviceUniqueId", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("deviceUniqueId");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4000
    * @tc.name      : 040.test set_get_config
    * @tc.desc      : set config "deviceUniqueId" and get
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4000', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("deviceUniqueId", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("deviceUniqueId");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4100
    * @tc.name      : 041.test set_get_config
    * @tc.desc      : 获取设备最大会话数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4100', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxSessionNum");
      var valueArray = stringToUint8Array("64");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4200
    * @tc.name      : 042.test set_get_config
    * @tc.desc      : 设置最大会话数为0
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4200', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("0");
      mediaKeySystem.setConfigurationByteArray("maxSessionNum", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxSessionNum");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4300
    * @tc.name      : 043.test set_get_config
    * @tc.desc      : 设置最大会话数为null
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4300', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("maxSessionNum", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxSessionNum");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4400
    * @tc.name      : 044.test set_get_config
    * @tc.desc      : 给maxSessionNum赋值，超过默认最大数64
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4400', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("65");
      mediaKeySystem.setConfigurationByteArray("maxSessionNum", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxSessionNum");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4500
    * @tc.name      : 045.test set_get_config
    * @tc.desc      : 给maxSessionNum赋值1，创建两个会话
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4500', 1, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("1");
      drmsys.setConfigurationByteArray("maxSessionNum", valueArray);
      var getCfg = drmsys.getConfigurationByteArray("maxSessionNum");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }

      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var session2 = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);

      expect(session2).not();
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4600
    * @tc.name      : 046.test set_get_config
    * @tc.desc      : 查看当前会话数
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4600', 1, async function (done) {
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");

      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var getCfg = drmsys.getConfigurationByteArray("currentSessionNum");
      expect(getCfg).assertEqual(getCfg);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4700
    * @tc.name      : 047.test set_get_config
    * @tc.desc      : get config "maxHDCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4700', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("HDCP_V1");
      mediaKeySystem.setConfigurationByteArray("maxHDCPLevel", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxHDCPLevel");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4800
    * @tc.name      : 048.test set_get_config
    * @tc.desc      : get config "maxHDCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4800', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("maxHDCPLevel", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxHDCPLevel");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4900
    * @tc.name      : 049.test set_get_config
    * @tc.desc      : get config "maxHDCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_4700', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationByteArray("currentHDCPLevel");
      expect(getCfg).assertEqual(getCfg);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5000
    * @tc.name      : 050.test set_get_config
    * @tc.desc      : get config "maxADCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5000', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var valueArray = stringToUint8Array("ADCP_V1_L1");
      mediaKeySystem.setConfigurationByteArray("maxADCPLevel", valueArray);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxADCPLevel");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5100
    * @tc.name      : 051.test set_get_config
    * @tc.desc      : get config "maxADCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5100', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      mediaKeySystem.setConfigurationByteArray("maxADCPLevel", null);
      var getCfg = mediaKeySystem.getConfigurationByteArray("maxADCPLevel");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(valueArray[i]);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5200
    * @tc.name      : 052.test set_get_config
    * @tc.desc      : get config "currentADCPLevel"
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5200', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationByteArray("currentADCPLevel");
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertEqual(0);
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5300
    * @tc.name      : 002.test set_get_config
    * @tc.desc      : 给vendor赋值然后获取属性值
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_SET_GET_CONFIG_5300', 1, async function (done) {
      var mediaKeySystem = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var getCfg = mediaKeySystem.getConfigurationByteArray(null);
      for(var i = 0; i < getCfg.length; i++) {
        expect(getCfg[i]).assertUndefined();
      }
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0100
    * @tc.name      : 001.test on off interface
    * @tc.desc      : keyRequired on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0100', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('keyRequired', ()=> {
        sign = 2;
      })
      //TODO 实现触发
      expect(sign).assertEqual(2);
      keySession.off('keyRequired');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0200
    * @tc.name      : 002.test on off interface
    * @tc.desc      : keyRequired on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0200', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('keyRequired', ()=> {
        sign = 2;
      })
      //TODO 实现触发keyRequired
      expect(sign).assertEqual(2);
      keySession.off('keyRequired');
      sign = 1;
      //TODO 再次触发keyRequired
      expect(sign).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0300
    * @tc.name      : 003.test on off interface
    * @tc.desc      : keyExpired on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0300', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"dLhN2gMH49/UioZ28vIIpNAx10e1JEngECtkssweeMcRoYmSMIIiskbE4O8zm96dAcg1Ml0r283gWmmnEH5/LQtqkTOO0KzwyHnka7/py7/xv6SQck5UBw+kLF5x4oDfK0RM3lHQ6mflgWsfKsvG9PP1MJBoh87beiZf4kBv/qYwTgZS5hQbvNm01vnBsj6f4Hsgt6OL9o55k+p/ue9EIP2ztaClUaRWsK1A/6CCfqwPbigUzZmm92SCyHqnS6W8MNHRoVkoUvWRa2xpqhnaq7dS8fI/Jr3adXMyC8QE3/lxmsLXgk3lhcm8JD7CIbevS+C0/yUtK1cbew7sLvOuE4uesPTXaLP+bBy1vg1G+uLxjcXEOIAH3p7A2I94/cCUMiob0RRtZMimJKW4RVR+CsjRtRnfanrmFGb2b2eXmAEOMqaEX6sNZtfGU7Se2a7WvTjw7HuVnvWbLd8TxUxT1n1rkOAXLTnSrs1FDHJoKLfp/eXvNHpM9CKWfdqdDSgJQsC3KB6FfJP7hKR+p7kf0/Xt0r1Oandam72fmKFeWCzejCsXW9upq3bZ3dSbC+Xr0KFw3N9A5lM5ZVonlWBSQ2GETPk8C5emoxXIv5ffvsTbYkPJInIUhGWO/2jzfQ0NzjWZpTXCtDnPt4UVkmbxTH2dX0F1PQN56RaZUNWww3rcrJoAExM/8/P/NwVcQkZHwCsltRZdDZLQdfNuVcJUL1s//95pluEWPTjtG2PX2Nw7jO9HBVP0Ws+dicgT7t8e36Z3ZXo2S9PYpCU61wgGXwdaRl94PliEJQJhLDgecjLeQmGs0BpcJRy6EKUATSWCmvxBuTXnlWL2O12aXc3BPbKOw0xjMHeva9hpiXi56GqCH5Wt9m4/tgYF4L5FJr2tOIv7OaOSvYBTUoshzFj7rU4vHhYE32DAigYL/Mv/TVA/rjjuXDfMRCwe8HNYuQR0nNdVn9S20Es/bJ4KFKsb8AMp00xqX0nUDALdABTZ/qbP+Gn8RyrD7sgb1VcCPRcyn35gjkPUQn78/BKt5e9mp74MxMQkIRGNBOn9syWF8n2mhk3bLy2V79N3Ll/QTxjjh1q88MLaEqApcWFVSoXowHry1jQi7KN+MflM4aylO7uagAqjjO/Lhl9kwGiHj7qfaUZqMkLwI2Iv2fJRJfgzt5wylZwcHiKnmk1IxbljPQ1aGcBRZMjbaf2v8EDH8ugrvDM8v0s6qhRQOBcOGmf68F2zDTAQlWjtRjzhVBeNqRF9n9ySECsQbtJpGCqXQSDDwo8zmZ5s9SdHGtBHxEq49/5sDnqLSNN/1nEz1refQN5it4yaGxjvJP9oqLuU0AqOgJdfj7WvJ1Y3do26rjIsq/9cEHQ/qvFoEgdF6/k3biZNLL7wd2p9B91Te83KDZPniBu96FcdLfKrZL1pV07YUqM5FHovk/ptiUJhzWtikJWnLQY+W2PaiswiHt3n6Tjo2QtJJlNyPPFqrnMzT3HKd7mvJo9dM6/dni05pz07lXqU2qteQowOHonqlX/rYOIWThCU9sovXNJfLnv/1sKrn9V6Tsu4WHIzf3b3U5O/oFq2gEupGe0hkpXG7Z385qUSFkPK8Y54wCM/Qk9zOtg4yJBvZyzsgPin8KaKm7uo9NreJtmSMoQosZ+tBrIukXKVJ8Yrgd1iZCNcPTzRmFOgF75MHD0raoG66Y5ugSd8hdJudeVQz3AptS6EMLbXNYrlmHl9ziY4zi40tPIl373DdVNEUtoi5VBxd4K0shZV27KLVxC58sXuvDe12hMnoDEbLH3BF5W+VLIv9C6unTUrzlmvUvZkFuHQ9p6exYgZyBosvn1jqkTMPwzKtY53sIj4OJKOLuXPlkQ+nQHwL8cVLeGmcB/TCj+h0tk/rjJYqa+52BBky98tmPDMMJtCjkvwkOmCRY9RCMpuqoGum8r/eM6eedF7Y92h91NigUZXoD7h1T/BaeTgdcGncFkh9LpLj9Ai6cgwEQDHy+hPgn56J1EoAZrT+2fq3QuSFw2JB9+fINC6bgeUpiPbDt/IxUU6d0GZTFCRDpsKRH73U14ZxWQo5osqvoPnnftIwFMOMxWvR8wmhywYE1OuG3RjHnQzzTFjhqoX1uUAZmw95OK+pqF+qiCar/PDlYuds8QF7g4q8v2zWgw=\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('keyExpired', ()=> {
        sign = 2;
      })
      //TODO 实现触发keyExpired
      expect(sign).assertEqual(2);
      keySession.off('keyExpired');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0400
    * @tc.name      : 004.test on off interface
    * @tc.desc      : keyExpired on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0400', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"dLhN2gMH49/UioZ28vIIpNAx10e1JEngECtkssweeMcRoYmSMIIiskbE4O8zm96dAcg1Ml0r283gWmmnEH5/LQtqkTOO0KzwyHnka7/py7/xv6SQck5UBw+kLF5x4oDfK0RM3lHQ6mflgWsfKsvG9PP1MJBoh87beiZf4kBv/qYwTgZS5hQbvNm01vnBsj6f4Hsgt6OL9o55k+p/ue9EIP2ztaClUaRWsK1A/6CCfqwPbigUzZmm92SCyHqnS6W8MNHRoVkoUvWRa2xpqhnaq7dS8fI/Jr3adXMyC8QE3/lxmsLXgk3lhcm8JD7CIbevS+C0/yUtK1cbew7sLvOuE4uesPTXaLP+bBy1vg1G+uLxjcXEOIAH3p7A2I94/cCUMiob0RRtZMimJKW4RVR+CsjRtRnfanrmFGb2b2eXmAEOMqaEX6sNZtfGU7Se2a7WvTjw7HuVnvWbLd8TxUxT1n1rkOAXLTnSrs1FDHJoKLfp/eXvNHpM9CKWfdqdDSgJQsC3KB6FfJP7hKR+p7kf0/Xt0r1Oandam72fmKFeWCzejCsXW9upq3bZ3dSbC+Xr0KFw3N9A5lM5ZVonlWBSQ2GETPk8C5emoxXIv5ffvsTbYkPJInIUhGWO/2jzfQ0NzjWZpTXCtDnPt4UVkmbxTH2dX0F1PQN56RaZUNWww3rcrJoAExM/8/P/NwVcQkZHwCsltRZdDZLQdfNuVcJUL1s//95pluEWPTjtG2PX2Nw7jO9HBVP0Ws+dicgT7t8e36Z3ZXo2S9PYpCU61wgGXwdaRl94PliEJQJhLDgecjLeQmGs0BpcJRy6EKUATSWCmvxBuTXnlWL2O12aXc3BPbKOw0xjMHeva9hpiXi56GqCH5Wt9m4/tgYF4L5FJr2tOIv7OaOSvYBTUoshzFj7rU4vHhYE32DAigYL/Mv/TVA/rjjuXDfMRCwe8HNYuQR0nNdVn9S20Es/bJ4KFKsb8AMp00xqX0nUDALdABTZ/qbP+Gn8RyrD7sgb1VcCPRcyn35gjkPUQn78/BKt5e9mp74MxMQkIRGNBOn9syWF8n2mhk3bLy2V79N3Ll/QTxjjh1q88MLaEqApcWFVSoXowHry1jQi7KN+MflM4aylO7uagAqjjO/Lhl9kwGiHj7qfaUZqMkLwI2Iv2fJRJfgzt5wylZwcHiKnmk1IxbljPQ1aGcBRZMjbaf2v8EDH8ugrvDM8v0s6qhRQOBcOGmf68F2zDTAQlWjtRjzhVBeNqRF9n9ySECsQbtJpGCqXQSDDwo8zmZ5s9SdHGtBHxEq49/5sDnqLSNN/1nEz1refQN5it4yaGxjvJP9oqLuU0AqOgJdfj7WvJ1Y3do26rjIsq/9cEHQ/qvFoEgdF6/k3biZNLL7wd2p9B91Te83KDZPniBu96FcdLfKrZL1pV07YUqM5FHovk/ptiUJhzWtikJWnLQY+W2PaiswiHt3n6Tjo2QtJJlNyPPFqrnMzT3HKd7mvJo9dM6/dni05pz07lXqU2qteQowOHonqlX/rYOIWThCU9sovXNJfLnv/1sKrn9V6Tsu4WHIzf3b3U5O/oFq2gEupGe0hkpXG7Z385qUSFkPK8Y54wCM/Qk9zOtg4yJBvZyzsgPin8KaKm7uo9NreJtmSMoQosZ+tBrIukXKVJ8Yrgd1iZCNcPTzRmFOgF75MHD0raoG66Y5ugSd8hdJudeVQz3AptS6EMLbXNYrlmHl9ziY4zi40tPIl373DdVNEUtoi5VBxd4K0shZV27KLVxC58sXuvDe12hMnoDEbLH3BF5W+VLIv9C6unTUrzlmvUvZkFuHQ9p6exYgZyBosvn1jqkTMPwzKtY53sIj4OJKOLuXPlkQ+nQHwL8cVLeGmcB/TCj+h0tk/rjJYqa+52BBky98tmPDMMJtCjkvwkOmCRY9RCMpuqoGum8r/eM6eedF7Y92h91NigUZXoD7h1T/BaeTgdcGncFkh9LpLj9Ai6cgwEQDHy+hPgn56J1EoAZrT+2fq3QuSFw2JB9+fINC6bgeUpiPbDt/IxUU6d0GZTFCRDpsKRH73U14ZxWQo5osqvoPnnftIwFMOMxWvR8wmhywYE1OuG3RjHnQzzTFjhqoX1uUAZmw95OK+pqF+qiCar/PDlYuds8QF7g4q8v2zWgw=\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('keyExpired', ()=> {
        sign = 2;
      })
      //TODO 实现触发keyExpired
      expect(sign).assertEqual(2);
      keySession.off('keyExpired');
      sign = 1;
      //TODO 再次触发keyExpired
      expect(sign).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0500
    * @tc.name      : 005.test on off interface
    * @tc.desc      : vendorDefined on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0500', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('vendorDefined', ()=> {
        sign = 2;
      })
      //TODO 实现触发vendorDefined
      expect(sign).assertEqual(2);
      keySession.off('vendorDefined');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0600
    * @tc.name      : 006.test on off interface
    * @tc.desc      : vendorDefined on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0600', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('vendorDefined', ()=> {
        sign = 2;
      })
      //TODO 实现触发vendorDefined
      expect(sign).assertEqual(2);
      keySession.off('vendorDefined');
      sign = 1;
      //TODO 再次触发vendorDefined
      expect(sign).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0700
    * @tc.name      : 007.test on off interface
    * @tc.desc      : sessionReclaimed on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0700', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('sessionReclaimed', ()=> {
        sign = 2;
      })
      //TODO 实现触发sessionReclaimed
      expect(sign).assertEqual(2);
      keySession.off('sessionReclaimed');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0800
    * @tc.name      : 008.test on off interface
    * @tc.desc      : sessionReclaimed on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0800', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('sessionReclaimed', ()=> {
        sign = 2;
      })
      //TODO 实现触发sessionReclaimed
      expect(sign).assertEqual(2);
      keySession.off('sessionReclaimed');
      sign = 1;
      //TODO 再次触发sessionReclaimed
      expect(sign).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0900
    * @tc.name      : 009.test on off interface
    * @tc.desc      : expirationUpdate on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_0900', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('expirationUpdate', ()=> {
        sign = 2;
      })
      //TODO 实现触发expirationUpdate
      expect(sign).assertEqual(2);
      keySession.off('expirationUpdate');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1000
    * @tc.name      : 010.test on off interface
    * @tc.desc      : expirationUpdate on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1000', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"dLhN2gMH49/UioZ28vIIpNAx10e1JEngECtkssweeMcRoYmSMIIiskbE4O8zm96dAcg1Ml0r283gWmmnEH5/LQtqkTOO0KzwyHnka7/py7/xv6SQck5UBw+kLF5x4oDfK0RM3lHQ6mflgWsfKsvG9PP1MJBoh87beiZf4kBv/qYwTgZS5hQbvNm01vnBsj6f4Hsgt6OL9o55k+p/ue9EIP2ztaClUaRWsK1A/6CCfqwPbigUzZmm92SCyHqnS6W8MNHRoVkoUvWRa2xpqhnaq7dS8fI/Jr3adXMyC8QE3/lxmsLXgk3lhcm8JD7CIbevS+C0/yUtK1cbew7sLvOuE4uesPTXaLP+bBy1vg1G+uLxjcXEOIAH3p7A2I94/cCUMiob0RRtZMimJKW4RVR+CsjRtRnfanrmFGb2b2eXmAEOMqaEX6sNZtfGU7Se2a7WvTjw7HuVnvWbLd8TxUxT1n1rkOAXLTnSrs1FDHJoKLfp/eXvNHpM9CKWfdqdDSgJQsC3KB6FfJP7hKR+p7kf0/Xt0r1Oandam72fmKFeWCzejCsXW9upq3bZ3dSbC+Xr0KFw3N9A5lM5ZVonlWBSQ2GETPk8C5emoxXIv5ffvsTbYkPJInIUhGWO/2jzfQ0NzjWZpTXCtDnPt4UVkmbxTH2dX0F1PQN56RaZUNWww3rcrJoAExM/8/P/NwVcQkZHwCsltRZdDZLQdfNuVcJUL1s//95pluEWPTjtG2PX2Nw7jO9HBVP0Ws+dicgT7t8e36Z3ZXo2S9PYpCU61wgGXwdaRl94PliEJQJhLDgecjLeQmGs0BpcJRy6EKUATSWCmvxBuTXnlWL2O12aXc3BPbKOw0xjMHeva9hpiXi56GqCH5Wt9m4/tgYF4L5FJr2tOIv7OaOSvYBTUoshzFj7rU4vHhYE32DAigYL/Mv/TVA/rjjuXDfMRCwe8HNYuQR0nNdVn9S20Es/bJ4KFKsb8AMp00xqX0nUDALdABTZ/qbP+Gn8RyrD7sgb1VcCPRcyn35gjkPUQn78/BKt5e9mp74MxMQkIRGNBOn9syWF8n2mhk3bLy2V79N3Ll/QTxjjh1q88MLaEqApcWFVSoXowHry1jQi7KN+MflM4aylO7uagAqjjO/Lhl9kwGiHj7qfaUZqMkLwI2Iv2fJRJfgzt5wylZwcHiKnmk1IxbljPQ1aGcBRZMjbaf2v8EDH8ugrvDM8v0s6qhRQOBcOGmf68F2zDTAQlWjtRjzhVBeNqRF9n9ySECsQbtJpGCqXQSDDwo8zmZ5s9SdHGtBHxEq49/5sDnqLSNN/1nEz1refQN5it4yaGxjvJP9oqLuU0AqOgJdfj7WvJ1Y3do26rjIsq/9cEHQ/qvFoEgdF6/k3biZNLL7wd2p9B91Te83KDZPniBu96FcdLfKrZL1pV07YUqM5FHovk/ptiUJhzWtikJWnLQY+W2PaiswiHt3n6Tjo2QtJJlNyPPFqrnMzT3HKd7mvJo9dM6/dni05pz07lXqU2qteQowOHonqlX/rYOIWThCU9sovXNJfLnv/1sKrn9V6Tsu4WHIzf3b3U5O/oFq2gEupGe0hkpXG7Z385qUSFkPK8Y54wCM/Qk9zOtg4yJBvZyzsgPin8KaKm7uo9NreJtmSMoQosZ+tBrIukXKVJ8Yrgd1iZCNcPTzRmFOgF75MHD0raoG66Y5ugSd8hdJudeVQz3AptS6EMLbXNYrlmHl9ziY4zi40tPIl373DdVNEUtoi5VBxd4K0shZV27KLVxC58sXuvDe12hMnoDEbLH3BF5W+VLIv9C6unTUrzlmvUvZkFuHQ9p6exYgZyBosvn1jqkTMPwzKtY53sIj4OJKOLuXPlkQ+nQHwL8cVLeGmcB/TCj+h0tk/rjJYqa+52BBky98tmPDMMJtCjkvwkOmCRY9RCMpuqoGum8r/eM6eedF7Y92h91NigUZXoD7h1T/BaeTgdcGncFkh9LpLj9Ai6cgwEQDHy+hPgn56J1EoAZrT+2fq3QuSFw2JB9+fINC6bgeUpiPbDt/IxUU6d0GZTFCRDpsKRH73U14ZxWQo5osqvoPnnftIwFMOMxWvR8wmhywYE1OuG3RjHnQzzTFjhqoX1uUAZmw95OK+pqF+qiCar/PDlYuds8QF7g4q8v2zWgw=\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"MIIDoDCCAoigAwIBAgIOY6WleWPH+ku4OrR2U5gwDQYJKoZIhvcNAQELBQAwUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwHhcNMjEwODI0MDkzNTQyWhcNMjYwODI0MDkzNTQxWjBgMQswCQYDVQQGEwJDTjEPMA0GA1UECgwGSHVhd2VpMRMwEQYDVQQLDApIdWF3ZWkgQ0JHMSswKQYDVQQDDCJIdWF3ZWlfRFJNX1Byb3Zpc2lvbl9TZXJ2ZXJfVGVzdF8xMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs6l8W4H2cYP3xaKkyE2CnucXbXOlskizFL/IIpWjylhSLNam63SuLNdiQYBt8jDhalXecFmMdZJR3qtdvha6iUpAk06ej3LTzDpBpniDYCgNfj+sPIoo/wxe/9y332xCSZBvA8qF6aPTy+DjBCoq8pssVXBl9ClROBRhmmmS1SGCrzkKnxs/MfOQHLu8LVqMbuWczC0qiZgZQTnbSt18hxGyCDQtgJ67wjZ/neXWc6S335NBJZ7SqWjT7uB2k7nXkcBfB1ZGE1sNUL4fNTeKT5L7XsIkveFmoprgArGDf2/jiywbbh8oka4h2iX80TukzWg49DLnHPGlNdC7f1AqpQIDAQABo2YwZDAfBgNVHSMEGDAWgBTeFUPBipFvSFE1pV/q7PniasKlvjAdBgNVHQ4EFgQUQWQyuzazenrMHWfHaCqRpOrE2D0wDgYDVR0PAQH/BAQDAgeAMBIGA1UdJQQLMAkGByqBHIbvMAcwDQYJKoZIhvcNAQELBQADggEBACN4kdD4MEGyBA4ZkPHeY3L/1Tavcj3EE5Qo50EOQCajMpV0JwnfA0Isvn/Bbln3pltGtWiDxATlC1An7mS41933wtKgTS9XsSla6rrTyj67tpDOy1j1LPmKelkhDFV64tWu3FWnHJiasq+SzU9HDZ/WnoYBCgMNPj/p4NFDsZkqquikjCKXKCauADaA3dlVpIJ3HlrySsOkN3P8dp1c5565LM+5uI1oovBl1nMCvl6CPKAhEYNqN3pgOdQwemQYEsN2TfxN3/5Xm3SZN+qfx572Z9tFGIwXF1LLhmpyTRr9pnU8Fts4asXopKTzwVHdRDh4kXAldc67//LwoS8/CB0=\",\"MIIEhzCCAm+gAwIBAgIIbP0N+h28E/8wDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE5MTIwMzA4MTU0OVoXDTM5MTEyODA4MTU0OVowUjELMAkGA1UEBgwCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEdMBsGA1UEAwwUSHVhd2VpIERSTSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC7s9p/kWo2L2YWL538/Na21x1rDcuJvkwcUFRb8vfu2q1V4kHDLnPD5NimK5M1uXA64O9w3mN7D+YIWra8nygsrhOi/Q8v27I7t/fbkH8MeSv1JywsUWPYI9YkD2SBKN2KxHIuNDTew8juQGHsXIuvzQa9bVQ95Yq4W4ZxlK6uht288z6cS/4tri1C9zU9zUvGtPbSzcd463SKtTe1wvNvSgCQmT+bI6NRSLQNu3csGkwMsHNJARcBNc3RJp0dfnMrKEdPRDRkxEkyU9PhLtgzNCWcRzmXq/Wzd5iOTg+GnkabAcdUlcevGU11+ZOvDVapgLngvyuhrtRQjCqAwG9LAgMBAAGjYzBhMB8GA1UdIwQYMBaAFKrE03lH6G4ja+/wqWwicz16GWmhMB0GA1UdDgQWBBTeFUPBipFvSFE1pV/q7PniasKlvjASBgNVHRMBAf8ECDAGAQH/AgEAMAsGA1UdDwQEAwIBBjANBgkqhkiG9w0BAQsFAAOCAgEArEkhtqZe0wsai3cnE4i6pTlZveri8f8Ra44Ul5xJVrD2Y8DNy+p9poARSldz9tIyCD3OG6F4IlWJ83wz3VaEyRxcaNN5LDIWoQnaXwHxD8wPIAuh3AZrzyZAvVdiztKNPx7AH0/T0yeg0mSQsIOU/7sA0Wj7QsIpqRzSc1tIrKTMTImNyZMpMpRVPTM6gPQZuwsaYSmlG0nI3XYuIkQrDEFt3n1Ul9e0cRE5XDvBrCgKiZG1cUthd0jfqKqYiuVYOjp5WReUe9zPASi4udtVMjY8e5noSYvB3Mn43Xlkw4p2Yff8HZ4/JmD64MldcVm3WGxIBs5W17+2+nvW2pjSQM83XJlZoktk/KZcLkqqwVAVX+5v+7SzY2DWJ1DokZ8KhSQGwNF1xODz2EK0PIKI2giZcKfxluyqxUwldtNIZhZVV08Qm6v1InmpkQ9qcc85NoVvQ4jGXQAHCTaduHP66EOvYyPCe/sZRgDluK0Nlh4mB/XIzzpieiKroa+azwyXXhPA7AByNjX3odAFacxpLE9gSnMXiTPLrx1g8S3opDky3MTlmHxYdNY54rwL48aU5Q0Xn8q7fyamOfYmuD5asty9V2fo/j1oXFu9QrZE1gcSLhAnuszCRsNO4N3N1Fxz22X62FFOM+GLP6bCzHkd1nfPhuAdkjil3kZgZ/dyxfs=\",\"MIIFZDCCA0ygAwIBAgIIYsLLTehAXpYwDQYJKoZIhvcNAQELBQAwUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMB4XDTE3MDgyMTEwNTYyN1oXDTQyMDgxNTEwNTYyN1owUDELMAkGA1UEBhMCQ04xDzANBgNVBAoMBkh1YXdlaTETMBEGA1UECwwKSHVhd2VpIENCRzEbMBkGA1UEAwwSSHVhd2VpIENCRyBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA1OyKm3Ig/6eibB7Uz2o93UqGk2M784WdfF8mvffvu218d61G5M3Px54E3kefUTk5Ky1ywHvw7Rp9KDuYv7ktaHkk+yr59Ihseu3a7iM/C6SnMSGt+LfB/Bcob9Abw95EigXQ4yQddX9hbNrin3AwZw8wMjEISYYDo5GuYDL0NbAiYg2Y5GpfYIqRzoi6GqDz+evLrsl20kJeCEPgJZN4Jg00Iq9k++EKOZ5Jc/Zx22ZUgKpdwKABkvzshEgG6WWUPB+gosOiLv++inu/9blDpEzQZhjZ9WVHpURHDK1YlCvubVAMhDpnbqNHZ0AxlPletdoyugrH/OLKl5inhMXNj3Re7Hl8WsBWLUKp6sXFf0dvSFzqnr2jkhicS+K2IYZnjghC9cOBRO8fnkonh0EBt0evjUIKr5ClbCKioBX8JU+d4ldtWOpp2FlxeFTLreDJ5ZBU4//bQpTwYMt7gwMK+MO5WtokUx3UF98Z6GdUgbl6nBjBe82c7oIQXhHGHPnURQO7DDPgyVnNOnTPIkmiHJh/e3vkVhiZNHFCCLTip6GoJVrLxwb9i4q+d0thw4doxVJ5NB9OfDMV64/ybJgpf7m3Ld2yE0gsf1prrRlDFDXjlYyqqpf1l9Y0u3ctXo7UpXMgbyDEpUQhq3a7txZQO/17luTDoA6Tz1ADavvBwHkCAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFKrE03lH6G4ja+/wqWwicz16GWmhMA0GCSqGSIb3DQEBCwUAA4ICAQC1d3TMB+VHZdGrWJbfaBShFNiCTN/MceSHOpzBn6JumQP4N7mxCOwdRSsGKQxV2NPH7LTXWNhUvUw5Sek96FWx/+Oa7jsj3WNAVtmS3zKpCQ5iGb08WIROcFnx3oUQ5rcO8r/lUk7Q2cN0E+rF4xsdQrH9k2cd3kAXZXBjfxfKPJTdPy1XnZR/h8H5EwEK5DWjSzK1wKd3G/Fxdm3E23pcr4FZgdYdOlFSiqW2TJ3Qe6lF4GOKOOydWHkpu54ieTsqoYcuMKnKMjT2SLNNgv9Gu5ipaG8Olz6g9C7Htp943lmK/1VtnhggpL3rDTsFX/+ehk7OtxuNzRMD9lXUtEfok7f8XB0dcL4ZjnEhDmp5QZqC1kMubHQtQnTauEiv0YkSGOwJAUZpK1PIff5GgxXYfaHfBC6Op4q02ppl5Q3URl7XIjYLjvs9t4S9xPe8tb6416V2fe1dZ62vOXMMKHkZjVihh+IceYpJYHuyfKoYJyahLOQXZykGK5iPAEEtq3HPfMVF43RKHOwfhrAH5KwelUA/0EkcR4Gzth1MKEqojdnYNemkkSy7aNPPT4LEm5R7sV6vG1CjwbgvQrWCgc4nMb8ngdfnVF7Ydqjqi9SAqUzIk4+Uf0ZY+6RY5IcHdCaiPaWIE1xURQ8B0DRUURsQwXdjZhgLN/DKJpCl5aCCxg==\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('expirationUpdate', ()=> {
        sign = 2;
      })
      //TODO 实现触发expirationUpdate
      expect(sign).assertEqual(2);
      keySession.off('expirationUpdate');
      sign = 1;
      //TODO 再次触发expirationUpdate
      expect(sign).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1100
    * @tc.name      : 011.test on off interface
    * @tc.desc      : keysChange on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1100', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('keysChange', ()=> {
        sign = 2;
      })
      //TODO 实现触发keysChange
      expect(sign).assertEqual(2);
      keySession.off('keysChange');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1200
    * @tc.name      : 012.test on off interface
    * @tc.desc      : keysChange on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1200', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('keysChange', ()=> {
        sign = 2;
      })
      //TODO 实现触发keysChange
      expect(sign).assertEqual(2);
      keySession.off('keysChange');
      sign = 1;
      //TODO 再次触发keysChange
      expect(sign).assertEqual(1);
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1300
    * @tc.name      : 013.test on off interface
    * @tc.desc      : sessionLost on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1300', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('sessionLost', ()=> {
        sign = 2;
      })
      //TODO 实现触发sessionLost
      expect(sign).assertEqual(2);
      keySession.off('sessionLost');
      done();
    })
    /* *
    * @tc.number    : SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1400
    * @tc.name      : 014.test on off interface
    * @tc.desc      : sessionLost on/off interface
    * @tc.size      : MediumTest
    * @tc.type      : Function test
    * @tc.level     : Level1
    */
    it('SUB_MULTIMEDIA_DRM_KEY_SESSION_ON_OFF_1400', 1, async function (done) {
      //TODO: 接口测试暂无法触发事件
      var drmsys = await drm.createMediaKeySystem("E79628B6406A6724DCD5A1DA50B53E80");
      var provisionStr = "{\"resultCode\":\"success\",\"reqID\":\"RbCc8TGYtgPehbBKcLTFHA==\",\"provisionData\":\"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\",\"tempKey\":\"KaQL1owSiMhlpPaja+xZGoFq8Q0GmqoXYxmPH6RU8Jf5eI154vCx19X/sSBzoZBh2VVnJavLmRC0SYxYUr4SaKsbu29As+H2QDvht/IeyHWDWLpRF1eB1wE1cBZcXqB1imIOZ5897oilCbnqslXPVzQqPaof4rhIHYTjY8oqGcIRUGbUit3wILcQXYmsOTaLPof5gTK2Rpl7zZDXY0bOpyEdSprFKyMGZtolIjIEcHSfuaaqahKBQ7t7JzJ/fnmPdj1XA0gEplYKFKezWDJt/qm/IOMPtvpjj+qLNXiDTaQ5zF5zKZUxCJdXfyCWxAUT5QQo7OGtnXnO6Nj8Eu1Y4729l1QaW0kCfgPX/dXcs+gCoHBrUkZ5Zq6v7oP1HG/sUawaciRhqAJwyXs0QwcutCy2eqxRWh48KVIc+VdYY9TSBjbxh9l9fijRU8YXeKfp9ls3GUHMqNs3+eq7DdrvWDScbGyupu8SH46XtM6B521IZiqnCEIv5S3ROV0yJsf4d1Uzm/7Cs4W596A3b1XPPwWUUUySuozNJWs39niu4ff+217OEltIvVIhu3lpWa1GfclPMNTnbARjn20rprZCXV7enXAHauR6YzsIMZtmBptd4xhTT/CiPA5yr4qgJizjzkKfRopV4tSPptcR+t+XqvuxIVFNJcJYwpaGd/9cxZs=\",\"tempIV\":\"kxNAaxZ+mqCFIReL\",\"tempKey2\":\"O4fyyVWi7ILXZqgtsL9tfPxXMy1UWcKV7HohRBaaBZ6nu8s/64FfWmGgemjdBxT0t43rTzK+lrYruEhNc15yYH05jclE28lfRY37PlcfWnGtg6nA00b6pQs0vKT3gytrUjmvvvBDm4uT0n0hOcxDzICFppK6I/75g6rMBLbQsHB0Gh7j1byGBkNS97c4NHUrKtAG3AdW4uVi6Z1kvcmqesT+vnr9JYBCTNlgirx6T0WL0UTvNE+e2yfF5zcEfPa2B7+l5e/Z6CXbArzBsz65bD5113dit4AL2A66EeBP25DR43ZKJ5TsnMKrv0KXJBotVrN9lpmQtKgSfpfK9jfgdsuax3H3HRwpm8kuoErRHmt0EwMOBWViK00yJBUr1/Y2ps9v9hJOCuH3K2AygqyYZt+sR3PKe4I5hnbzHMm7SW9kCdvt8VxMDl1OODehNVInqIO4fxHZ/oqnu+ufzvJDmoc7OMBL2Ew/NBHB09RnJ5F2nXvyhDObBEw4s7TxpJMSt4cFPvRag/VLPye0BBFr2sY8otoZjeY0v1zIDcHjKsCB/PB3gHLz0zxnvcjGIcujF4Yf+if6nJCeQb02UwiRdQOBQes/QPccs0Q06pFmPxpUfUqKA3Zt2FPAWj2C9Ac0xCkYKIpKod5OagbDZiNrVcGVk1lN6z0fGpmy18rJ2I4=\",\"timestamp\":1695367082,\"signCerts\":[\"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\"],\"sign\":\"gO+lLKcyAj9/zwoerUQeQ6iween9ruiQBZzg3dHobpaQOq4WfFdAyBbHEXV8CezR9eCOVOCfstWW4TywjkwILNl9yb9bX2g7VZ4HTplQSh8EaQBOUsyZ7+7AOB02htTU+nrWdyrVeAczFPQQbSSt/BlZHQiPu1iNmqVqV46aPRshP+dazsw15jZh86cLBWlBWxfiPbNfYycQPyqxyPJ8e8YP6YeA80CYdt+TpWwhdDaZA2poKxxh66euYeOYmXzglhhEgdUUjdx21m6qVPbLNTxmT4cPJsoyUeYOK69EAv4nQ7ztNvL1tkTliXi/7s+x5hy8/SZGHV/6Bl7QLa+pGg==\"}";
      var provisionArray:Uint8Array = stringToUint8Array(provisionStr);
      drmsys.processKeySystemResponse(provisionArray);
      var keySession = await drmsys.createMediaKeySession(drm.SecurityLevel.SECURITY_LEVEL_UNKNOWN);
      var sign = 1;
      keySession.on('sessionLost', ()=> {
        sign = 2;
      })
      //TODO 实现触发sessionLost
      expect(sign).assertEqual(2);
      keySession.off('sessionLost');
      sign = 1;
      //TODO 再次触发sessionLost
      expect(sign).assertEqual(1);
      done();
    })
  })
}