/*
 * Copyright (C) 2023 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import { describe, beforeAll, beforeEach, afterEach, afterAll, it, expect } from '@ohos/hypium'
import UDMF from '@ohos.data.UDMF';

const TAG = '[ttt]'

export default function UDMFApiCallback() {
  describe('UDMFApiCallback', function () {

    beforeEach(async function () {
      console.info(TAG + "beforeEach")
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      };
      await UDMF.deleteData(options).then((data) => {
        let size = data.length;
        console.info(TAG, ` [beforeEach] success to deleteData data.size = ${size}`);
      }).catch((err) => {
        console.info(TAG, ` [beforeEach] Failed to deleteData. code is ${err.code},message is ${err.message} `);
      });
    })

    console.info(TAG + "*************Unit Test Begin*************")

    /**
     * @tc.number SUB_DDM_UDMF_InsertData_Callback_0100
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_InsertData_Callback_0100', 0, function (done) {
      let Options = {}
      let plainText = new UDMF.PlainText();
      plainText.textContent = 'this is textContent';
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(Options, unifiedData, function (err, data) {
          if (err === undefined) {
            console.info(TAG + `data = ${data}, options = ${Options}`);
            expect(err === undefined).assertFail();
            done();
          } else {
            console.error(TAG, `Failed to insertData0100 code is ${err.code},message is ${err.message} `);
            expect(err.code).assertEqual('401');
            done();
          }
        })
      }
      catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_InsertData_Callback_0200
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_InsertData_Callback_0200', 0, function (done) {
      let Options = {
        intention: undefined
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = 'this is textContent';
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(Options, unifiedData, function (err, data) {
          if (err === undefined) {
            console.info(TAG + `data = ${data}, options = ${Options}`);
            expect(err === undefined).assertFail();
            done();
          } else {
            console.error(TAG, `Failed to insertData0200 code is ${err.code},message is ${err.message} `);
            expect(err.code).assertEqual('401');
            done();
          }
        })
      }
      catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_InsertData_Callback_0300
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_InsertData_Callback_0300', 0, function (done) {
      let Options = {
        intention:null
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = 'this is textContent';
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(Options, unifiedData, function (err, data) {
          if (err === undefined) {
            console.info(TAG + `data = ${data}, options = ${Options}`);
            expect(err === undefined).assertFail();
            done();
          } else {
            console.error(TAG, `Failed to insertData0300 code is ${err.code},message is ${err.message} `);
            expect(err.code).assertEqual('401');
            done();
          }
        })
      }
      catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_InsertData_Callback_0400
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_InsertData_Callback_0400', 0, function (done) {
      let Options = {
        intention: undefined,
        key: undefined
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = 'this is textContent';
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(Options, unifiedData, function (err, data) {
          if (err === undefined) {
            console.info(TAG + `data = ${data}, options = ${Options}`);
            expect(err === undefined).assertFail();
            done();
          } else {
            console.error(TAG, `Failed to insertData0400 code is ${err.code},message is ${err.message} `);
            expect(err.code).assertEqual('401');
            done();
          }
        })
      }
      catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_InsertData_Callback_0500
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_InsertData_Callback_0500', 0, function (done) {
      let Options = {
        key: null
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = 'this is textContent';
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(Options, unifiedData, function (err, data) {
          if (err === undefined) {
            console.info(TAG + `data = ${data}, options = ${Options}`);
            expect(err === undefined).assertFail();
            done();
          } else {
            console.error(TAG, `Failed to insertData0500 code is ${err.code},message is ${err.message} `);
            expect(err.code).assertEqual('401');
            done();
          }
        })
      }
      catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_InsertData_Callback_0600
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_InsertData_Callback_0600', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try{
        UDMF.insertData(options, unifiedData, function (err, data) {
          if (err === undefined) {
            console.info(TAG + `data = ${data}, options = ${options}`);
            expect(err === undefined).assertTrue()
            done();
          } else {
            console.error(TAG, `Failed to insertData0600 code is ${err.code},message is ${err.message} `);
            expect(err !== null).assertFail();
            done();
          }
        });
      }catch(error){
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_UpdateData_Callback_0100
     * @tc.name UDMF updateData callback interface test
     * @tc.desc UDMF updateData callback interface test.
     */
    it('SUB_DDM_UDMF_UpdateData_Callback_0100', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try{
        UDMF.insertData(options, unifiedData, function (e, data) {
            if (e !== undefined) {
              console.info(TAG, ` Failed to insertData. code is ${e.code},message is ${e.message} `);
              return;
            }
            console.info(TAG + `insertData0100 success; data = ${data}, options = ${options}`);
            UDMF.updateData({key: data}, unifiedData, function (err, ret) {
              if (err === undefined) {
                console.info(TAG + `updateData success; data = ${ret}, options = ${options}`);
                expect(err === undefined).assertTrue()
                done();
              } else {
                console.info(`UpdateData failed. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
        });
      }catch(error){
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_UpdateData_Callback_0200
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_UpdateData_Callback_0200', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
            if (e !== undefined) {
              console.info(TAG, ` Failed to insertData. code is ${e.code},message is ${e.message} `);
              return;
            }
            console.info(TAG + `insertData0200 success; data = ${data}, options = ${options}`);
            UDMF.updateData({key: undefined}, unifiedData, function (err, ret) {
              if (err === undefined) {
                console.info(TAG + `updateData success; data = ${ret}, options = ${options}`);
                expect(err !== null).assertFail()
                done();
              } else {
                console.info(`UpdateData failed. code is ${err.code},message is ${err.message} `);
                expect(err.code).assertEqual('401');
                done();
              }
            });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_UpdateData_Callback_0300
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_UpdateData_Callback_0300', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
            if (e !== undefined) {
              console.info(TAG, ` Failed to insertData. code is ${e.code},message is ${e.message} `);
              return;
            }
            console.info(TAG + `insertData0300 success; data = ${data}, options = ${options}`);
            UDMF.updateData({key: null}, unifiedData, function (err, ret) {
              if (err === undefined) {
                console.info(TAG + `updateData success; data = ${ret}, options = ${options}`);
                expect(err !== null).assertFail()
                done();
              } else {
                console.info(`UpdateData failed. code is ${err.code},message is ${err.message} `);
                expect(err.code).assertEqual('401');
                done();
              }
            });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_UpdateData_Callback_0400
     * @tc.name UDMF insertData callback interface test
     * @tc.desc UDMF insertData callback interface test.
     */
    it('SUB_DDM_UDMF_UpdateData_Callback_0400', 0, function (done) {
      let options = {
        intention: undefined
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(TAG + `insertData0400 fail, code is ${e.code},message is ${e.message}`);
          }
          UDMF.updateData({key: data}, unifiedData, function (err, ret) {
            if (err === undefined) {
              console.info(TAG + `updateData success; data = ${ret}, options = ${options}`);
              expect(err !== null).assertFail()
              done();
            } else {
              console.info(`UpdateData failed. code is ${err.code},message is ${err.message} `);
              expect(err.code).assertEqual('401');
              done();
            }
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_UpdateData_Callback_0500
     * @tc.name UDMF updateData callback interface test
     * @tc.desc UDMF updateData callback interface test.
     */
    it('SUB_DDM_UDMF_UpdateData_Callback_0500', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB,
        key: undefined
      }
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try{
        UDMF.insertData(options, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(TAG, ` Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0500 success; data = ${data}, options = ${options}`);
          UDMF.updateData({key: data}, unifiedData, function (err, ret) {
            if (err === undefined) {
              console.info(TAG + `updateData success; data = ${ret}, options = ${options}`);
              expect(err === undefined).assertTrue()
              done();
            } else {
              console.info(`UpdateData failed. code is ${err.code},message is ${err.message} `);
              expect(err !== null).assertFail();
              done();
            }
          });
        });
      }catch(error){
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_QueryData_Callback_0100
     * @tc.name UDMF queryData callback interface test
     * @tc.desc UDMF queryData callback interface test.
     */
    it('SUB_DDM_UDMF_QueryData_Callback_0100', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
            if (e !== undefined) {
              console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
              return;
            }
            console.info(TAG + `insertData0100 success; data = ${data}, options = ${options}`);
            UDMF.queryData(options, function (err, ret) {
              if (err === undefined) {
                let size = ret.length;
                console.info(TAG, ` data.size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = ret[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` queryData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to queryData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_QueryData_Callback_0200
     * @tc.name UDMF queryData callback interface test
     * @tc.desc UDMF queryData callback interface test.
     */
    it('SUB_DDM_UDMF_QueryData_Callback_0200', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
            if (e !== undefined) {
              console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
              return;
            }
            console.info(TAG + `insertData0100 success; data = ${data}, options = ${options}`);
            UDMF.queryData({key: data}, function (err, ret) {
              if (err === undefined) {
                let size = ret.length;
                console.info(TAG, ` data.size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = ret[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` queryData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to queryData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_QueryData_Callback_0300
     * @tc.name UDMF queryData callback interface test
     * @tc.desc UDMF queryData callback interface test.
     */
    it('SUB_DDM_UDMF_QueryData_Callback_0300', 0, function (done) {
      let options1 = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options1, unifiedData, function (e, data) {
            if (e !== undefined) {
              console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
              return;
            }
            console.info(TAG + `insertData0100 success; data = ${data}, options = ${options1}`);
            let options2 = {
              intention: UDMF.Intention.SUPER_HUB,
              key: data
            };
            UDMF.queryData(options2, function (err, ret) {
              if (err === undefined) {
                let size = ret.length;
                console.info(TAG, ` data.size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = ret[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` queryData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to queryData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_QueryData_Callback_0400
     * @tc.name UDMF queryData callback interface test
     * @tc.desc UDMF queryData callback interface test.
     */
    it('SUB_DDM_UDMF_QueryData_Callback_0400', 0, function (done) {
      let options1 = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options1, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0400 success; data = ${data}, options = ${options1}`);
          let options2 = {
            intention: UDMF.Intention.SUPER_HUB,
            key: 'data'
          };
          UDMF.queryData(options2, function (err, ret) {
            if (err === undefined) {
              let size = ret.length;
              console.info(TAG, ` data.size = ${size}`);
              for (var i = 0; i < size; i++) {
                let records = ret[i].getRecords();
                let size = records.length;
                for (var j = 0; j < size; j++) {
                  if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                    let text = <UDMF.PlainText> (records[j]);
                    console.info(TAG, ` queryData.result = ${i + 1}.${text.textContent}`);
                  }
                }
              }
              expect(err === undefined).assertFail();
              done();
            } else {
              console.info(`Failed to queryData. code is ${err.code},message is ${err.message} `);
              expect(err.code).assertEqual('401');
              done();
            }
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_QueryData_Callback_0500
     * @tc.name UDMF queryData callback interface test
     * @tc.desc UDMF queryData callback interface test.
     */
    it('SUB_DDM_UDMF_QueryData_Callback_0500', 0, function (done) {
      let options1 = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options1, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0500 success; data = ${data}, options = ${options1}`);
          let options2 = {
            intention: UDMF.Intention.SUPER_HUB,
            key: undefined
          };
          UDMF.queryData(options2, function (err, ret) {
            if (err === undefined) {
              let size = ret.length;
              console.info(TAG, ` data.size = ${size}`);
              for (var i = 0; i < size; i++) {
                let records = ret[i].getRecords();
                let size = records.length;
                for (var j = 0; j < size; j++) {
                  if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                    let text = <UDMF.PlainText> (records[j]);
                    console.info(TAG, ` queryData.result = ${i + 1}.${text.textContent}`);
                  }
                }
              }
              expect(size).assertEqual(1);
              done();
            } else {
              console.info(`Failed to queryData. code is ${err.code},message is ${err.message} `);
              expect(err.code).assertEqual('401');
              done();
            }
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_DeleteData_Callback_0100
     * @tc.name UDMF deleteData callback interface test
     * @tc.desc UDMF deleteData callback interface test.
     */
    it('SUB_DDM_UDMF_DeleteData_Callback_0100', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0100 success; data = ${data}, options = ${options}`);
          UDMF.queryData(options, function (errInfo, ret) {
            if (errInfo !== undefined) {
              console.info(`Failed to queryData. code is ${errInfo.code},message is ${errInfo.message} `);
              return;
            }
            console.info(TAG, ` queryData size = ${ret.length}`);
            UDMF.deleteData(options, function (err, row) {
              if (err == undefined) {
                let size = row.length;
                console.info(TAG, ` deleteData size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = row[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` deleteData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to deleteData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_DeleteData_Callback_0200
     * @tc.name UDMF deleteData callback interface test
     * @tc.desc UDMF deleteData callback interface test.
     */
    it('SUB_DDM_UDMF_DeleteData_Callback_0200', 0, function (done) {
      let options = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0200 success; data = ${data}, options = ${options}`);
          UDMF.queryData(options, function (errInfo, ret) {
            if (errInfo !== undefined) {
              console.info(`Failed to queryData. code is ${errInfo.code},message is ${errInfo.message} `);
              return;
            }
            console.info(TAG, ` queryData size = ${ret.length}`);
            UDMF.deleteData({key: data}, function (err, row) {
              if (err == undefined) {
                let size = row.length;
                console.info(TAG, ` deleteData size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = row[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` deleteData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to deleteData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_DeleteData_Callback_0300
     * @tc.name UDMF deleteData callback interface test
     * @tc.desc UDMF deleteData callback interface test.
     */
    it('SUB_DDM_UDMF_DeleteData_Callback_0300', 0, function (done) {
      let options1 = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options1, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0100 success; data = ${data}, options = ${options1}`);
          UDMF.queryData(options1, function (errInfo, ret) {
            if (errInfo !== undefined) {
              console.info(`Failed to queryData. code is ${errInfo.code},message is ${errInfo.message} `);
              return;
            }
            console.info(TAG, ` queryData size = ${ret.length}`);
            let options2 = {
              intention: UDMF.Intention.SUPER_HUB,
              key: data
            };
            UDMF.deleteData(options2, function (err, row) {
              if (err == undefined) {
                let size = row.length;
                console.info(TAG, ` deleteData size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = row[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` deleteData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to deleteData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_DeleteData_Callback_0400
     * @tc.name UDMF deleteData callback interface test
     * @tc.desc UDMF deleteData callback interface test.
     */
    it('SUB_DDM_UDMF_DeleteData_Callback_0400', 0, function (done) {
      let options1 = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options1, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0100 success; data = ${data}, options = ${options1}`);
          UDMF.queryData(options1, function (errInfo, ret) {
            if (errInfo !== undefined) {
              console.info(`Failed to queryData. code is ${errInfo.code},message is ${errInfo.message} `);
              return;
            }
            console.info(TAG, ` queryData size = ${ret.length}`);
            let options2 = {
              intention: UDMF.Intention.SUPER_HUB,
              key: 'data'
            };
            UDMF.deleteData(options2, function (err, row) {
              if (err == undefined) {
                let size = row.length;
                console.info(TAG, ` deleteData size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = row[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` deleteData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(err !== null).assertFail();
                done();
              } else {
                console.info(`Failed to deleteData. code is ${err.code},message is ${err.message} `);
                expect(err.code).assertEqual('401');
                done();
              }
            });
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    /**
     * @tc.number SUB_DDM_UDMF_DeleteData_Callback_0500
     * @tc.name UDMF deleteData callback interface test
     * @tc.desc UDMF deleteData callback interface test.
     */
    it('SUB_DDM_UDMF_DeleteData_Callback_0300', 0, function (done) {
      let options1 = {
        intention: UDMF.Intention.SUPER_HUB
      };
      let plainText = new UDMF.PlainText();
      plainText.textContent = "hello world!";
      let unifiedData = new UDMF.UnifiedData(plainText);
      try {
        UDMF.insertData(options1, unifiedData, function (e, data) {
          if (e !== undefined) {
            console.info(`Failed to insertData. code is ${e.code},message is ${e.message} `);
            return;
          }
          console.info(TAG + `insertData0100 success; data = ${data}, options = ${options1}`);
          UDMF.queryData(options1, function (errInfo, ret) {
            if (errInfo !== undefined) {
              console.info(`Failed to queryData. code is ${errInfo.code},message is ${errInfo.message} `);
              return;
            }
            console.info(TAG, ` queryData size = ${ret.length}`);
            let options2 = {
              intention: UDMF.Intention.SUPER_HUB,
              key: undefined
            };
            UDMF.deleteData(options2, function (err, row) {
              if (err == undefined) {
                let size = row.length;
                console.info(TAG, ` deleteData size = ${size}`);
                for (var i = 0; i < size; i++) {
                  let records = row[i].getRecords();
                  let size = records.length;
                  for (var j = 0; j < size; j++) {
                    if (records[j].getType() == UDMF.UnifiedDataType.PLAIN_TEXT) {
                      let text = <UDMF.PlainText> (records[j]);
                      console.info(TAG, ` deleteData.result = ${i + 1}.${text.textContent}`);
                    }
                  }
                }
                expect(size).assertEqual(1);
                done();
              } else {
                console.info(`Failed to deleteData. code is ${err.code},message is ${err.message} `);
                expect(err !== null).assertFail();
                done();
              }
            });
          });
        });
      } catch (error) {
        console.error(TAG, `Failed, code is ${error.code},message is ${error.message} `);
        expect(error !== null).assertFail();
        done();
      }
    })

    console.info(TAG + "*************Unit Test End*************")
  })
}